/*!
 * Cropper 2.0.1
 * (c) 2024 sjaakpriester.nl
 */
!function(t){if(!t)return;if("undefined"==typeof window)return;const e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e)}('.cropper-wrap{border:var(--cropper-border-width, 2px) solid var(--cropper-border-color, ButtonBorder);border-radius:var(--cropper-border-radius, 0.4em);padding:var(--cropper-gap, 0.6em);display:grid;grid-template-columns:1fr 1fr;gap:var(--cropper-gap, 0.6em);max-width:min-content}.cropper-preview{grid-area:1/span 2;justify-self:center;box-sizing:content-box;display:grid;place-content:center;place-items:center;overflow:hidden;background:url("data:image/gif;base64,R0lGODlhEAAQAKEAAISChPz+/P///wAAACH5BAEAAAIALAAAAAAQABAAAAIfhG+hq4jM3IFLJhoswNly/XkcBpIiVaInlLJr9FZWAQA7")}.cropper-preview>*{grid-area:1/1}.cropper-drop{width:min-content;padding-inline:.3em;text-align:center;font-weight:bold;background-color:var(--cropper-drop, GrayText);color:var(--cropper-drop-text, Canvas)}.cropper-image{max-width:none;max-height:none;pointer-events:none}.cropper-overlay{display:grid;place-content:center;place-items:center;box-sizing:content-box;z-index:1;user-select:none;border:40px solid rgba(255,255,255,.75)}.cropper-msg{grid-area:4/1/5/3;min-height:1lh;font-size:85%}.cropper-wrap label{cursor:pointer;margin-block:initial;color:var(--cropper-gray, GrayText);width:1em}.cropper-wrap label:hover{color:var(--cropper-button, ButtonText)}.cropper-wrap button{padding:0;border:none;outline:none;font:inherit;font-weight:bold;background:rgba(0,0,0,0);justify-self:end;color:var(--cropper-gray, GrayText);width:1.67em}.cropper-wrap button:hover{color:var(--cropper-button, ButtonText)}.cropper-wrap [type=file]{display:none}.cropper-wrap [type=range]{grid-area:2/span 2;display:inline-block}');var t=`${(new Date).toISOString().slice(0,10)}`,e="2.0.1";function i(t,e={},i={}){this.settings=Object.assign({},this.defaults,i,t.dataset),this.text=Object.assign({},this.defaultText,e),this._sanitizeSettings();const s=document.createElement("div"),a=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("img"),h=document.createElement("input"),l=document.createElement("div"),d=document.createElement("input"),c=document.createElement("label"),p=document.createElement("button");s.classList.add("cropper-wrap"),a.classList.add("cropper-preview"),n.classList.add("cropper-drop"),n.innerText=this.text.drop,l.classList.add("cropper-msg"),r.classList.add("cropper-overlay"),o.classList.add("cropper-image"),h.classList.add("cropper-scale"),h.type="range",h.setAttribute("step","any"),h.setAttribute("title",this.text.zoom),d.type="hidden",d.name=(t.name||"cropper")+"-data",c.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 384 512' fill='currentColor'><path d='M365.3 93.38l-74.63-74.64C278.6 6.742 262.3 0 245.4 0H64C28.65 0 0 28.65 0 64l.0065 384c0 35.34 28.65 64 64 64H320c35.2 0 64-28.8 64-64V138.6C384 121.7 377.3 105.4 365.3 93.38zM336 448c0 8.836-7.164 16-16 16H64.02c-8.838 0-16-7.164-16-16L48 64.13c0-8.836 7.164-16 16-16h160L224 128c0 17.67 14.33 32 32 32h79.1V448zM215.3 292c-4.68 0-9.051 2.34-11.65 6.234L164 357.8l-11.68-17.53C149.7 336.3 145.3 334 140.7 334c-4.682 0-9.053 2.34-11.65 6.234l-46.67 70c-2.865 4.297-3.131 9.82-.6953 14.37C84.09 429.2 88.84 432 93.1 432h196c5.163 0 9.907-2.844 12.34-7.395c2.436-4.551 2.17-10.07-.6953-14.37l-74.67-112C224.4 294.3 220 292 215.3 292zM128 288c17.67 0 32-14.33 32-32S145.7 224 128 224S96 238.3 96 256S110.3 288 128 288z' /svg>",c.setAttribute("title",this.text.choose),p.type="button",p.innerHTML="<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 512' fill='currentColor'><path d='M630.8 469.1l-55.95-43.85C575.3 422.2 575.1 419.2 575.1 416l.0034-320c0-35.35-28.65-64-64-64H127.1C113.6 32 100.4 36.98 89.78 45.06L38.81 5.113C28.34-3.058 13.31-1.246 5.109 9.192C-3.063 19.63-1.235 34.72 9.187 42.89L601.2 506.9C605.6 510.3 610.8 512 615.1 512c7.125 0 14.17-3.156 18.91-9.188C643.1 492.4 641.2 477.3 630.8 469.1zM527.1 388.5l-36.11-28.3l-100.7-136.8C387.8 218.8 382.1 216 376 216c-6.113 0-11.82 2.768-15.21 7.379L344.9 245L261.9 180C262.1 176.1 264 172.2 264 168c0-26.51-21.49-48-48-48c-8.336 0-16.05 2.316-22.88 6.057L134.4 80h377.6c8.822 0 16 7.178 16 16V388.5zM254.2 368.3l-37.09-46.1c-3.441-4.279-8.934-6.809-14.77-6.809c-5.842 0-11.33 2.529-14.78 6.809l-75.52 93.81c0-.0293 0 .0293 0 0L111.1 184.5l-48-37.62L63.99 416c0 35.35 28.65 64 64 64h361.1l-201.1-157.6L254.2 368.3z' /svg>",p.setAttribute("title",this.text.empty),t.parentNode.insertBefore(s,t),c.append(t),a.append(n,o,r),s.append(a,h,c,p,l,d),t.cropper=this,this.element=t,this.preview=a,this.overlay=r,this.image=o,this.zoomCtrl=h,this.msg=l,this.jsonData=d,this.wrap=s,this.aspect=1,this.scale=1,this.translate={x:0,y:0},this.range={x:0,y:0},this.imageSize={width:0,height:0},this.zoom=1,this.dragging=-1,this.loaded=!1,t.addEventListener("change",function(t){this._loadFile()}.bind(this)),a.addEventListener("dragenter",(function(t){t.preventDefault()})),a.addEventListener("dragover",(function(t){t.preventDefault()})),a.addEventListener("drop",function(t){t.preventDefault(),this.element.files=t.dataTransfer.files,this._loadFile()}.bind(this)),r.addEventListener("pointerdown",function(t){this.loaded&&0===t.button&&(this.dragging=t.pointerId)}.bind(this)),document.addEventListener("pointerup",function(t){t.pointerId===this.dragging&&(this.move(t.movementX,t.movementY),this.dragging=-1)}.bind(this)),document.addEventListener("pointermove",function(t){t.pointerId===this.dragging&&this.move(t.movementX,t.movementY)}.bind(this)),r.addEventListener("dblclick",function(t){this.loaded&&(this.translate={x:0,y:0},this.move(0,0))}.bind(this)),h.addEventListener("input",function(t){this.setZoom(Math.exp(t.target.valueAsNumber))}.bind(this)),h.addEventListener("dblclick",function(t){t.target.value=0,this.setZoom(1)}.bind(this)),p.addEventListener("click",function(t){this.loadImage(!1)}.bind(this)),this.setAspect(this.settings.aspect),this._setCrop()}i.prototype={version:`v${e}, ${t}`,defaults:{aspect:1,margin:40,diagonal:300,maxZoom:4},defaultText:{choose:"Choose an image...",empty:"Empty cropper",drop:"Drop file here",zoom:"Zoom"},loadImage(t){if(this.wrap.classList.remove("cropper-loaded"),!t){this.image.removeAttribute("src");const t=new DataTransfer;return this.element.files=t.files,this._resetAll(),this.msg.innerText="",void(this.imageAsp=1)}fetch(t).then((t=>t.blob())).then((e=>{const i=e.type,s=t.replace(/^.*[\\\/]/,"");e.size;const a=new File([e],s,{type:i}),n=new DataTransfer;n.items.add(a),this.element.files=n.files,this._loadFile()}))},_loadFile(){const t=this.element.files[0];if(t.type.match(/image.*/)){const e=new FileReader;e.addEventListener("load",function(e){this.loaded=!1,this.wrap.classList.remove("cropper-loaded");const i=new Image;i.addEventListener("load",function(t){this.loaded=!0,this.wrap.classList.add("cropper-loaded"),this.image.setAttribute("src",t.target.src),this._resetAll()}.bind(this)),i.src=e.target.result,this.msg.innerText=t.name}.bind(this)),e.readAsDataURL(t)}},_sanitizeSettings(){const t=this.settings.aspect;!isNaN(t)&&(t<.2||t>5)&&(this.settings.aspect=this.defaults.aspect);const e=this.settings.diagonal;(e<80||e>2e3)&&(this.settings.diagonal=this.defaults.diagonal);const i=this.settings.margin;(i<8||i>200)&&(this.settings.margin=this.defaults.margin);const s=this.settings.maxZoom;(s<2||s>10)&&(this.settings.maxZoom=this.defaults.maxZoom)},_setCrop(){let t=this.aspect,e=Math.sqrt(1+t*t),i=this.settings.diagonal/e,s=i*t,a=2*this.settings.margin,n=this.overlay.style,r=this.preview.style;n.width=`${s}px`,n.aspectRatio=t,n.borderWidth=`${this.settings.margin}px`,r.width=`${s+a}px`,r.height=`${i+a}px`},_calcBaseScale(){this.scale=this.loaded?Math.max(this.overlay.clientWidth/this.image.naturalWidth,this.overlay.clientHeight/this.image.naturalHeight):1},_calcRange(){this.range={x:(this.imageSize.width-this.overlay.clientWidth)/2,y:(this.imageSize.height-this.overlay.clientHeight)/2}},_setMaxZoom(){const t=Math.log(this.settings.maxZoom);this.zoomCtrl.value=Math.min(t,this.zoomCtrl.valueAsNumber),this.zoomCtrl.setAttribute("max",t)},_resetZoom(){this.zoomCtrl.setAttribute("min",0),this._setMaxZoom(),this.zoomCtrl.value=0,this.setZoom(1)},setZoom(t){const e=t*this.scale;this.zoom=t,this.image.style.scale=e,this.imageSize={width:e*this.image.naturalWidth,height:e*this.image.naturalHeight},this._calcRange(),this.move(0,0)},setAspect(t){isNaN(t)&&(t={tower:.429,high:.563,din_portrait:.707,portrait:.75,landscape:1.333,din_landscape:1.414,wide:1.718,cinema:2.333}[t]??1),this.aspect=+t,this._sanitizeSettings(),this._resetAll()},setMargin(t){this.settings.margin=t,this._sanitizeSettings(),this._setCrop()},setDiagonal(t){this.settings.diagonal=t,this._sanitizeSettings(),this._resetAll()},_resetAll(){this.translate={x:0,y:0},this._setCrop(),this._calcBaseScale(),this._calcRange(),this._resetZoom()},move(t,e){let i=this.translate.x+t,s=this.translate.y+e;i=Math.max(-this.range.x,Math.min(i,this.range.x)),s=Math.max(-this.range.y,Math.min(s,this.range.y)),this.translate={x:i,y:s},this.image.style.translate=`${i}px ${s}px`;const a=this.getDimensions();this.jsonData.value=JSON.stringify(a),this.element.dispatchEvent(new CustomEvent("cropperchange",{detail:a}))},getDimensions(){const t=this.zoom*this.scale,e=this.overlay.clientWidth,i=this.overlay.clientHeight;this.imageSize.width,this.imageSize.height;return{aspect:this.aspect,x:this.loaded?((this.imageSize.width-e)/2-this.translate.x)/t:0,y:this.loaded?((this.imageSize.height-i)/2-this.translate.y)/t:0,w:this.loaded?e/t:0,h:this.loaded?i/t:0}}},window.cropper=function(t={},e={},s="[type=file]"){return[...document.querySelectorAll(s)].map((s=>new i(s,t,e)))};
//# sourceMappingURL=cropper.js.map
